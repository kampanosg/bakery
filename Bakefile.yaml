version: 1.2
metadata:
  author: kampanosg
variables:
  name: bake
defaults:
  - test
recipes:
  clean:
    description: "deletes executable"
    private: true
    steps:
      - "rm :name:"
  test:
    description: "test the code with go test"
    steps:
      - "go test -cover -parallel 1 ./..."
  build:
    description: "builds the code with go"
    steps:
      - "^ clean"
      - "go build -o :name: bakery.go"
  format:
    description: "formats the code with the go formatter"
    steps:
      - "go fmt ./..."
